{"version":3,"file":"static/js/405.b6c61826.chunk.js","mappings":"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","sources":["pages/Occupations/Occupations.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport MainLayout from \"../../components/Layout/MainLayout\";\nimport Sorting from \"../../components/Sorting/Sorting\";\nimport PaginationBar from \"../../components/Pagination/Pagination\";\nimport { getPageData } from \"../../components/Pagination/PaginationHelper\";\n\nfunction Occupations() {\n  const [page, setPage] = useState();\n  const [occupations, setOccupations] = useState();\n  const order = useRef();\n  const sort = useRef();\n  const items_per_page = useRef(30);\n\n  useEffect(() => {\n    fetch(\"/api/occupations\")\n      .then((res) => res.json())\n      .then((data) => {\n        setOccupations(data[\"Occupations\"]);\n        setPage(data[\"Page\"]);\n        // console.log(data)\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  const ChangePage = (action) => {\n    const url = `/api/occupations?sort_by=${sort.current.value}&order=${order.current.value}&per_page=${items_per_page.current.value}&page=`;\n    getPageData(action, url, page).then((data) => {\n      setOccupations(data[\"Occupations\"]);\n      setPage(data[\"Page\"]);\n      // console.log(data[\"Page\"][0]);\n    });\n  };\n\n  const ShowPerPage = (items_per_page, e) => {\n    e.preventDefault();\n    {\n      // console.log(items_per_page.current.value)\n      fetch(\n        `/api/occupations?page=1&sort_by=${sort.current.value}&order=${order.current.value}&per_page=${items_per_page.current.value}`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          setOccupations(data[\"Occupations\"]);\n          setPage(data[\"Page\"]);\n        });\n    }\n  };\n\n  const sortPage = (sort, order, e) => {\n    e.preventDefault();\n    fetch(\n      `/api/occupations?page=${page[0].current_page}&per_page=${items_per_page.current.value}&sort_by=${sort.current.value}&order=${order.current.value}`\n    )\n      .then((res) => res.json())\n      .then((data) => {\n        setOccupations(data[\"Occupations\"]);\n        setPage(data[\"Page\"]);\n      });\n  };\n\n  const value_name = [\n    { id: \"onetCode\", name: \"Relevance\" },\n    { id: \"cluster\", name: \"Cluster\" },\n    { id: \"median_wage\", name: \"Median Wage\" },\n    { id: \"pct90_wage\", name: \"90th Wage\" },\n    { id: \"outlook\", name: \"Outlook\" },\n    { id: \"curr_employment\", name: \"Job Title\" },\n    { id: \"proj_openings\", name: \"Projected Openings\" },\n    { id: \"percent_change\", name: \"Percent Change in Employment\" },\n  ];\n  return (\n    <MainLayout>\n      {/* <h1 className=\"text-center py-5\">Occupations</h1> */}\n      {page && (\n        <Sorting\n          page_name={\"Occupations\"}\n          page={page}\n          handler={sortPage}\n          value_name={value_name}\n          order={order}\n          sort={sort}\n          show_handler={ShowPerPage}\n          items_per_page={items_per_page}\n          default_items={30}\n        />\n      )}\n      <Container>\n        <Row className=\"row row-cols-1 row-cols-md-3 py-4 gy-4\">\n          {occupations &&\n            occupations.map((occupation) => (\n              <Col key={occupation.onetCode}>\n                <Card className=\"m-3\">\n                  <Card.Body>\n                    <Card.Title>{occupation.title}</Card.Title>\n                    <Card.Subtitle className=\"mb-2 text-muted\">\n                      {occupation.cluster}\n                    </Card.Subtitle>\n\n                    {/* <Card.Text>{occupation[\"description\"]}</Card.Text> */}\n                    {/* <Card.Text>\n                    Median Wage: {occupation[\"median_wage\"]}\n                  </Card.Text>\n                  <Card.Text>90th Wage: {occupation[\"pct90_wage\"]}</Card.Text>\n                  <Card.Text>Outlook: {occupation[\"outlook\"]}</Card.Text>\n                  <Card.Text>\n                    Outlook Category: {occupation[\"outlook_category\"]}\n                  </Card.Text>\n                  <Card.Text>\n                    Current Employment: {occupation[\"curr_employment\"]}\n                  </Card.Text>\n                  <Card.Text>\n                    Projected Employment: {occupation[\"proj_openings\"]}\n                  </Card.Text>\n                  <Card.Text>\n                    Percent Change: {occupation[\"percent_change\"]}\n                  </Card.Text>\n                  <Card.Text>\n                    <a\n                      href={occupation[\"bls\"]}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      BLS\n                    </a>\n                  </Card.Text> */}\n                    {/* <Link to={`/jobs/occupation/${occupation.OnetCode}`} className=\"btn btn-primary mx-2\">\n                  Find Jobs\n                </Link> */}\n                    <Link\n                      to={`/Occupations/${occupation.onetCode}`}\n                      className=\"btn btn-primary mx-2\"\n                    >\n                      Info\n                    </Link>\n                    <Link\n                      to={`/Clusters/${occupation.cluster}`}\n                      className=\"btn btn-info mx-2\"\n                    >\n                      Cluster Info\n                    </Link>\n                  </Card.Body>\n                </Card>\n              </Col>\n            ))}\n        </Row>\n      </Container>\n      <Container className=\"d-flex justify-content-center\">\n        {occupations && (\n          <PaginationBar\n            change={ChangePage}\n            total_pages={page[0].total}\n            current_page={page[0].current_page}\n          />\n        )}\n      </Container>\n    </MainLayout>\n  );\n}\n\nexport default Occupations;\n"],"names":["_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","occupations","setOccupations","order","useRef","sort","items_per_page","useEffect","fetch","then","res","json","data","catch","err","console","log","_jsxs","MainLayout","children","_jsx","Sorting","page_name","handler","e","preventDefault","concat","current_page","current","value","value_name","id","name","show_handler","default_items","Container","Row","className","map","occupation","Col","Card","title","cluster","Link","to","onetCode","PaginationBar","change","action","url","getPageData","total_pages","total"],"sourceRoot":""}